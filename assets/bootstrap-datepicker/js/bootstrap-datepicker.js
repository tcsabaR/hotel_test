/*!
 * Datepicker for Bootstrap v1.6.4 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?d(require("jquery")):d(jQuery)})(function(d,v){function t(){return new Date(Date.UTC.apply(Date,arguments))}function y(){var a=new Date;return t(a.getFullYear(),a.getMonth(),a.getDate())}function x(a){return function(){return this[a].apply(this,arguments)}}function C(a,b){function c(a,b){return b.toLowerCase()}var e=d(a).data(),f={},l,r=new RegExp("^"+b.toLowerCase()+"([A-Z])");b=new RegExp("^"+b.toLowerCase());
for(var n in e)b.test(n)&&(l=n.replace(r,c),f[l]=e[n]);return f}function D(a){var b={};if(!m[a]&&(a=a.split("-")[0],!m[a]))return;var c=m[a];d.each(E,function(a,d){d in c&&(b[d]=c[d])});return b}var B=function(){var a={get:function(a){return this.slice(a)[0]},contains:function(a){a=a&&a.valueOf();for(var c=0,d=this.length;c<d;c++)if(this[c].valueOf()===a)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(a){a&&(d.isArray(a)||(a=[a]),this.clear(),this.push.apply(this,a))},clear:function(){this.length=
0},copy:function(){var a=new B;a.replace(this);return a}};return function(){var b=[];b.push.apply(b,arguments);d.extend(b,a);return b}}(),u=function(a,b){d(a).data("datepicker",this);this._process_options(b);this.dates=new B;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=d(a);this.inputField=(this.isInput=this.element.is("input"))?this.element:this.element.find("input");this.hasInput=(this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):
!1)&&this.inputField.length;this.component&&0===this.component.length&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=d(g.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):
this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);
this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};u.prototype={constructor:u,_resolveViewName:function(a,b){return 0===a||"days"===a||"month"===a?0:1===a||"months"===a||"year"===a?1:2===a||"years"===a||"decade"===a?2:3===a||"decades"===a||"century"===a?3:4===a||"centuries"===a||"millennium"===a?4:b===v?!1:b},_check_template:function(a){try{return a===v||""===a?!1:0>=(a.match(/[<>]/g)||[]).length?!0:0<d(a).length}catch(b){return!1}},_process_options:function(a){this._o=
d.extend({},this._o,a);var b=this.o=d.extend({},this._o);a=b.language;m[a]||(a=a.split("-")[0],m[a]||(a=z.language));b.language=a;b.startView=this._resolveViewName(b.startView,0);b.minViewMode=this._resolveViewName(b.minViewMode,0);b.maxViewMode=this._resolveViewName(b.maxViewMode,4);b.startView=Math.min(b.startView,b.maxViewMode);b.startView=Math.max(b.startView,b.minViewMode);!0!==b.multidate&&(b.multidate=Number(b.multidate)||!1,!1!==b.multidate&&(b.multidate=Math.max(0,b.multidate)));b.multidateSeparator=
String(b.multidateSeparator);b.weekStart%=7;b.weekEnd=(b.weekStart+6)%7;var c=g.parseFormat(b.format);-Infinity!==b.startDate&&(b.startDate=b.startDate?b.startDate instanceof Date?this._local_to_utc(this._zero_time(b.startDate)):g.parseDate(b.startDate,c,b.language,b.assumeNearbyYear):-Infinity);Infinity!==b.endDate&&(b.endDate=b.endDate?b.endDate instanceof Date?this._local_to_utc(this._zero_time(b.endDate)):g.parseDate(b.endDate,c,b.language,b.assumeNearbyYear):Infinity);b.daysOfWeekDisabled=b.daysOfWeekDisabled||
[];d.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/));b.daysOfWeekDisabled=d.map(b.daysOfWeekDisabled,function(a){return parseInt(a,10)});b.daysOfWeekHighlighted=b.daysOfWeekHighlighted||[];d.isArray(b.daysOfWeekHighlighted)||(b.daysOfWeekHighlighted=b.daysOfWeekHighlighted.split(/[,\s]*/));b.daysOfWeekHighlighted=d.map(b.daysOfWeekHighlighted,function(a){return parseInt(a,10)});b.datesDisabled=b.datesDisabled||[];d.isArray(b.datesDisabled)||(b.datesDisabled=
[b.datesDisabled]);b.datesDisabled=d.map(b.datesDisabled,function(a){return g.parseDate(a,c,b.language,b.assumeNearbyYear)});a=String(b.orientation).toLowerCase().split(/\s+/g);var e=b.orientation.toLowerCase();a=d.grep(a,function(a){return/^auto|left|right|top|bottom$/.test(a)});b.orientation={x:"auto",y:"auto"};if(e&&"auto"!==e)if(1===a.length)switch(a[0]){case "top":case "bottom":b.orientation.y=a[0];break;case "left":case "right":b.orientation.x=a[0]}else e=d.grep(a,function(a){return/^left|right$/.test(a)}),
b.orientation.x=e[0]||"auto",e=d.grep(a,function(a){return/^top|bottom$/.test(a)}),b.orientation.y=e[0]||"auto";b.defaultViewDate?(a=b.defaultViewDate.year||(new Date).getFullYear(),b.defaultViewDate=t(a,b.defaultViewDate.month||0,b.defaultViewDate.day||1)):b.defaultViewDate=y()},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,c,d,f;b<a.length;b++)c=a[b][0],2===a[b].length?(d=v,f=a[b][1]):3===a[b].length&&(d=a[b][1],f=a[b][2]),c.on(f,d)},_unapplyEvents:function(a){for(var b=0,
c,d,f;b<a.length;b++)c=a[b][0],2===a[b].length?(f=v,d=a[b][1]):3===a[b].length&&(f=a[b][1],d=a[b][2]),c.off(d,f)},_buildEvents:function(){var a={keyup:d.proxy(function(a){-1===d.inArray(a.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:d.proxy(this.keydown,this),paste:d.proxy(this.paste,this)};!0===this.o.showOnFocus&&(a.focus=d.proxy(this.show,this));this._events=this.isInput?[[this.element,a]]:this.component&&this.hasInput?[[this.inputField,a],[this.component,{click:d.proxy(this.show,
this)}]]:[[this.element,{click:d.proxy(this.show,this),keydown:d.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:d.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:d.proxy(function(a){this._focused_from=a.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":d.proxy(function(a){this.update(a.date)},this)}]);this._secondaryEvents=[[this.picker,{click:d.proxy(this.click,this)}],[d(window),{resize:d.proxy(this.place,
this)}],[d(document),{mousedown:d.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},
_trigger:function(a,b){var c=b||this.dates.get(-1),c=this._utc_to_local(c);this.element.trigger({type:a,date:c,dates:d.map(this.dates,this._utc_to_local),format:d.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"===typeof a&&(b=a,a=this.dates.length-1);b=b||this.o.format;var c=this.dates.get(a);return g.formatDate(c,b,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||
this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&d(this.element).blur(),this},hide:function(){if(this.isInline||!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();this.o.forceParse&&this.inputField.val()&&this.setValue();
this._trigger("hide");return this},destroy:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date;return this},paste:function(a){var b;if(a.originalEvent.clipboardData&&a.originalEvent.clipboardData.types&&-1!==d.inArray("text/plain",a.originalEvent.clipboardData.types))b=a.originalEvent.clipboardData.getData("text/plain");else if(window.clipboardData)b=window.clipboardData.getData("Text");
else return;this.setDate(b);this.update();a.preventDefault()},_utc_to_local:function(a){return a&&new Date(a.getTime()+6E4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6E4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return d.map(this.dates,this._utc_to_local)},getUTCDates:function(){return d.map(this.dates,
function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return"undefined"!==typeof a?new Date(a):null},clearDates:function(){this.inputField&&this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var a=d.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var a=
d.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,d.map(a,this._utc_to_local));this._trigger("changeDate");this.setValue();return this},setDate:x("setDates"),setUTCDate:x("setUTCDates"),remove:x("destroy"),setValue:function(){var a=this.getFormattedDate();this.inputField.val(a);return this},getFormattedDate:function(a){a===v&&(a=this.o.format);var b=this.o.language;return d.map(this.dates,function(c){return g.formatDate(c,a,b)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},
setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows();return this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows();return this},setDaysOfWeekHighlighted:function(a){this._process_options({daysOfWeekHighlighted:a});this.update();return this},
setDatesDisabled:function(a){this._process_options({datesDisabled:a});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return this;var a=this.picker.outerWidth(),b=this.picker.outerHeight(),c=d(this.o.container),e=c.width(),f="body"===this.o.container?d(document).scrollTop():c.scrollTop(),l=c.offset(),r=[];this.element.parents().each(function(){var a=d(this).css("z-index");"auto"!==a&&0!==a&&r.push(parseInt(a))});var c=Math.max.apply(Math,r)+this.o.zIndexOffset,n=this.component?
this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),g=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=n.left-l.left,l=n.top-l.top;"body"!==this.o.container&&(l+=f);this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&
(h-=a-g)):0>n.left?(this.picker.addClass("datepicker-orient-left"),h-=n.left-10):h+a>e?(this.picker.addClass("datepicker-orient-right"),h+=g-a):this.picker.addClass("datepicker-orient-left");a=this.o.orientation.y;"auto"===a&&(a=0>-f+l-b?"bottom":"top");this.picker.addClass("datepicker-orient-"+a);l="top"===a?l-(b+parseInt(this.picker.css("padding-top"))):l+k;this.o.rtl?this.picker.css({top:l,right:e-(h+g),zIndex:c}):this.picker.css({top:l,left:h,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;
var a=this.dates.copy(),b=[],c=!1;arguments.length?(d.each(arguments,d.proxy(function(a,c){c instanceof Date&&(c=this._local_to_utc(c));b.push(c)},this)),c=!0):(b=(b=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?b.split(this.o.multidateSeparator):[b],delete this.element.data().date);b=d.map(b,d.proxy(function(a){return g.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this));b=d.grep(b,d.proxy(function(a){return!this.dateWithinRange(a)||
!a},this),!0);this.dates.replace(b);this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate;c?this.setValue():b.length&&String(a)!==String(this.dates)&&this._trigger("changeDate");!this.dates.length&&a.length&&this._trigger("clearDate");this.fill();this.element.change();return this},fillDow:function(){var a=this.o.weekStart,b="<tr>";this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",
function(a,b){return parseInt(b)+1}),b+='<th class="cw">&#160;</th>');for(;a<this.o.weekStart+7;)b+='<th class="dow',-1<d.inArray(a,this.o.daysOfWeekDisabled)&&(b+=" disabled"),b+='">'+m[this.o.language].daysMin[a++%7]+"</th>";b+="</tr>";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a=this._utc_to_local(this.viewDate),b="",c=0;12>c;)var d=a&&a.getMonth()===c?" focused":"",b=b+('<span class="month'+d+'">'+m[this.o.language].monthsShort[c++]+"</span>");this.picker.find(".datepicker-months td").html(b)},
setRange:function(a){a&&a.length?this.range=d.map(a,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(a){var b=[],c=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=new Date;a.getUTCFullYear()<c||a.getUTCFullYear()===c&&a.getUTCMonth()<e?b.push("old"):(a.getUTCFullYear()>c||a.getUTCFullYear()===c&&a.getUTCMonth()>e)&&b.push("new");this.focusDate&&a.valueOf()===this.focusDate.valueOf()&&b.push("focused");this.o.todayHighlight&&a.getUTCFullYear()===
f.getFullYear()&&a.getUTCMonth()===f.getMonth()&&a.getUTCDate()===f.getDate()&&b.push("today");-1!==this.dates.contains(a)&&b.push("active");this.dateWithinRange(a)||b.push("disabled");this.dateIsDisabled(a)&&b.push("disabled","disabled-date");-1!==d.inArray(a.getUTCDay(),this.o.daysOfWeekHighlighted)&&b.push("highlighted");this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&b.push("range"),-1!==d.inArray(a.valueOf(),this.range)&&b.push("selected"),a.valueOf()===this.range[0]&&b.push("range-start"),
a.valueOf()===this.range[this.range.length-1]&&b.push("range-end"));return b},_fill_yearsView:function(a,b,c,e,f,l,r,g){var k,q,h,m,p;k="";a=this.picker.find(a);f=parseInt(f/c,10)*c;l=parseInt(l/e,10)*e;c=parseInt(r/e,10)*e;r=d.map(this.dates,function(a){return parseInt(a.getUTCFullYear()/e,10)*e});a.find(".datepicker-switch").text(f+"-"+(f+9*e));f-=e;for(q=-1;11>q;q+=1)h=[b],m=null,-1===q?h.push("old"):10===q&&h.push("new"),-1!==d.inArray(f,r)&&h.push("active"),(f<l||f>c)&&h.push("disabled"),f===
this.viewDate.getFullYear()&&h.push("focused"),g!==d.noop&&(p=g(new Date(f,0,1)),p===v?p={}:"boolean"===typeof p?p={enabled:p}:"string"===typeof p&&(p={classes:p}),!1===p.enabled&&h.push("disabled"),p.classes&&(h=h.concat(p.classes.split(/\s+/))),p.tooltip&&(m=p.tooltip)),k+='<span class="'+h.join(" ")+'"'+(m?' title="'+m+'"':"")+">"+f+"</span>",f+=e;a.find("td").html(k)},fill:function(){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth(),e=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():
-Infinity,f=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,l=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,r=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,n=m[this.o.language].today||m.en.today||"",k=m[this.o.language].clear||m.en.clear||"",q=m[this.o.language].titleFormat||m.en.titleFormat,h;if(!isNaN(b)&&!isNaN(c)){this.picker.find(".datepicker-days .datepicker-switch").text(g.formatDate(a,q,this.o.language));this.picker.find("tfoot .today").text(n).toggle(!1!==
this.o.todayBtn);this.picker.find("tfoot .clear").text(k).toggle(!1!==this.o.clearBtn);this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title);this.updateNavArrows();this.fillMonths();a=t(b,c-1,28);c=g.getDaysInMonth(a.getUTCFullYear(),a.getUTCMonth());a.setUTCDate(c);a.setUTCDate(c-(a.getUTCDay()-this.o.weekStart+7)%7);c=new Date(a);100>a.getUTCFullYear()&&c.setUTCFullYear(a.getUTCFullYear());c.setUTCDate(c.getUTCDate()+42);c=c.valueOf();for(n=[];a.valueOf()<c;){if(a.getUTCDay()===
this.o.weekStart&&(n.push("<tr>"),this.o.calendarWeeks)){var k=new Date(+a+(this.o.weekStart-a.getUTCDay()-7)%7*864E5),k=new Date(Number(k)+(11-k.getUTCDay())%7*864E5),u=new Date(Number(u=t(k.getUTCFullYear(),0,1))+(11-u.getUTCDay())%7*864E5);n.push('<td class="cw">'+((k-u)/864E5/7+1)+"</td>")}q=this.getClassNames(a);q.push("day");this.o.beforeShowDay!==d.noop&&(k=this.o.beforeShowDay(this._utc_to_local(a)),k===v?k={}:"boolean"===typeof k?k={enabled:k}:"string"===typeof k&&(k={classes:k}),!1===k.enabled&&
q.push("disabled"),k.classes&&(q=q.concat(k.classes.split(/\s+/))),k.tooltip&&(h=k.tooltip));q=d.isFunction(d.uniqueSort)?d.uniqueSort(q):d.unique(q);n.push('<td class="'+q.join(" ")+'"'+(h?' title="'+h+'"':"")+">"+a.getUTCDate()+"</td>");h=null;a.getUTCDay()===this.o.weekEnd&&n.push("</tr>");a.setUTCDate(a.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(n.join(""));h=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months";var p=this.picker.find(".datepicker-months").find(".datepicker-switch").text(2>
this.o.maxViewMode?h:b).end().find("span").removeClass("active");d.each(this.dates,function(a,c){c.getUTCFullYear()===b&&p.eq(c.getUTCMonth()).addClass("active")});(b<e||b>l)&&p.addClass("disabled");b===e&&p.slice(0,f).addClass("disabled");b===l&&p.slice(r+1).addClass("disabled");if(this.o.beforeShowMonth!==d.noop){var w=this;d.each(p,function(a,c){var e=w.o.beforeShowMonth(new Date(b,a,1));e===v?e={}:"boolean"===typeof e?e={enabled:e}:"string"===typeof e&&(e={classes:e});!1!==e.enabled||d(c).hasClass("disabled")||
d(c).addClass("disabled");e.classes&&d(c).addClass(e.classes);e.tooltip&&d(c).prop("title",e.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,b,e,l,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,10,b,e,l,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1E3,100,b,e,l,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==
this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()||
2>this.o.maxViewMode?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()||2>this.o.maxViewMode?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(a){a.preventDefault();a.stopPropagation();var b,c,e,f,l;a=d(a.target);a.hasClass("datepicker-switch")&&this.showMode(1);b=a.closest(".prev, .next");0<b.length&&(b=g.modes[this.viewMode].navStep*
(b.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,b),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,b),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill());a.hasClass("today")&&!a.hasClass("day")&&(this.showMode(-2),this._setDate(y(),"linked"===this.o.todayBtn?null:"view"));a.hasClass("clear")&&this.clearDates();!a.hasClass("disabled")&&(a.hasClass("day")&&(b=parseInt(a.text(),10)||1,c=this.viewDate.getUTCFullYear(),
e=this.viewDate.getUTCMonth(),a.hasClass("old")&&(0===e?(e=11,--c,l=f=!0):(--e,f=!0)),a.hasClass("new")&&(11===e?(e=0,c+=1,l=f=!0):(e+=1,f=!0)),this._setDate(t(c,e,b)),l&&this._trigger("changeYear",this.viewDate),f&&this._trigger("changeMonth",this.viewDate)),a.hasClass("month")&&(this.viewDate.setUTCDate(1),b=1,e=a.parent().find("span").index(a),c=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(e),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(t(c,e,b)),
this.showMode()):this.showMode(-1),this.fill()),a.hasClass("year")||a.hasClass("decade")||a.hasClass("century"))&&(this.viewDate.setUTCDate(1),b=1,e=0,c=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(c),a.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(c,e,b))),a.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(t(c,e,b))),a.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),
4===this.o.minViewMode&&this._setDate(t(c,e,b))),this.showMode(-1),this.fill());this.picker.is(":visible")&&this._focused_from&&d(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);a||this.dates.clear();-1!==b?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(b):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(a));if("number"===typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},
_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a));b&&"view"!==b||(this.viewDate=a&&new Date(a));this.fill();this.setValue();b&&"view"===b||this._trigger("changeDate");this.inputField&&this.inputField.change();!this.o.autoclose||b&&"date"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);c.setUTCDate(a.getUTCDate()+b);return c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!a||isNaN(a.getTime()))return this.o.defaultViewDate;if(!b)return a;
var c=new Date(a.valueOf()),d=c.getUTCDate(),f=c.getUTCMonth(),l=Math.abs(b),g;b=0<b?1:-1;if(1===l){if(l=-1===b?function(){return c.getUTCMonth()===f}:function(){return c.getUTCMonth()!==g},g=f+b,c.setUTCMonth(g),0>g||11<g)g=(g+12)%12}else{for(var n=0;n<l;n++)c=this.moveMonth(c,b);g=c.getUTCMonth();c.setUTCDate(d);l=function(){return g!==c.getUTCMonth()}}for(;l();)c.setUTCDate(--d),c.setUTCMonth(g);return c},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{a=
this[c](a,b);if(!this.dateWithinRange(a))return!1;c="moveDay"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(a){return-1!==d.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(a){return this.weekOfDateIsDisabled(a)||0<d.grep(this.o.datesDisabled,function(b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}).length},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},
keydown:function(a){if(this.picker.is(":visible")){var b=!1,c,d,f=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();a.preventDefault();a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;c=37===a.keyCode||38===a.keyCode?-1:1;if(0===this.viewMode)a.ctrlKey?(d=this.moveAvailableDate(f,c,"moveYear"))&&this._trigger("changeYear",
this.viewDate):a.shiftKey?(d=this.moveAvailableDate(f,c,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===a.keyCode||39===a.keyCode?d=this.moveAvailableDate(f,c,"moveDay"):this.weekOfDateIsDisabled(f)||(d=this.moveAvailableDate(f,c,"moveWeek"));else if(1===this.viewMode){if(38===a.keyCode||40===a.keyCode)c*=4;d=this.moveAvailableDate(f,c,"moveMonth")}else if(2===this.viewMode){if(38===a.keyCode||40===a.keyCode)c*=4;d=this.moveAvailableDate(f,c,"moveYear")}d&&(this.focusDate=this.viewDate=
d,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;f=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(f),b=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}b&&
(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())}else if(40===a.keyCode||27===a.keyCode)this.show(),a.stopPropagation()},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+a)));this.picker.children("div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).show();this.updateNavArrows()}};var A=function(a,b){d(a).data("datepicker",this);this.element=d(a);this.inputs=
d.map(b.inputs,function(a){return a.jquery?a[0]:a});delete b.inputs;w.call(d(this.inputs),b).on("changeDate",d.proxy(this.dateUpdated,this));this.pickers=d.map(this.inputs,function(a){return d(a).data("datepicker")});this.updateDates()};A.prototype={updateDates:function(){this.dates=d.map(this.pickers,function(a){return a.getUTCDate()});this.updateRanges()},updateRanges:function(){var a=d.map(this.dates,function(a){return a.valueOf()});d.each(this.pickers,function(b,c){c.setRange(a)})},dateUpdated:function(a){if(!this.updating){this.updating=
!0;var b=d(a.target).data("datepicker");if("undefined"!==typeof b){var c=b.getUTCDate();a=d.inArray(a.target,this.inputs);var b=a-1,e=a+1,f=this.inputs.length;if(-1!==a){d.each(this.pickers,function(a,b){b.getUTCDate()||b.setUTCDate(c)});if(c<this.dates[b])for(;0<=b&&c<this.dates[b];)this.pickers[b--].setUTCDate(c);else if(c>this.dates[e])for(;e<f&&c>this.dates[e];)this.pickers[e++].setUTCDate(c);this.updateDates();delete this.updating}}}},remove:function(){d.map(this.pickers,function(a){a.remove()});
delete this.element.data().datepicker}};var F=d.fn.datepicker,w=function(a){var b=Array.apply(null,arguments);b.shift();var c;this.each(function(){var e=d(this),f=e.data("datepicker"),g="object"===typeof a&&a;if(!f){var f=C(this,"date"),m=d.extend({},z,f,g),m=D(m.language),g=d.extend({},z,m,f,g);e.hasClass("input-daterange")||g.inputs?(d.extend(g,{inputs:g.inputs||e.find("input").toArray()}),f=new A(this,g)):f=new u(this,g);e.data("datepicker",f)}"string"===typeof a&&"function"===typeof f[a]&&(c=
f[a].apply(f,b))});if(c===v||c instanceof u||c instanceof A)return this;if(1<this.length)throw Error("Using only allowed for the collection of a single element ("+a+" function)");return c};d.fn.datepicker=w;var z=d.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:d.noop,beforeShowMonth:d.noop,beforeShowYear:d.noop,beforeShowDecade:d.noop,beforeShowCentury:d.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,
forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},E=d.fn.datepicker.locale_opts=["format","rtl","weekStart"];d.fn.datepicker.Constructor=u;var m=
d.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",
navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1E3}],isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,b){return[31,g.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(a){if("function"===typeof a.toValue&&"function"===typeof a.toDisplay)return a;
var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(a,b,c,e){function f(a,b){!0===b&&(b=10);100>a&&(a+=2E3,a>(new Date).getFullYear()+b&&(a-=100));return a}function l(){var a=this.slice(0,n[h].length),b=n[h].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!a)return v;if(a instanceof Date)return a;"string"===typeof b&&(b=g.parseFormat(b));
if(b.toValue)return b.toValue(a,b,c);var r=/([\-+]\d+)([dmwy])/,n=a.match(/([\-+]\d+)([dmwy])/g),k={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},q={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},h;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){a=new Date;for(h=0;h<n.length;h++)b=r.exec(n[h]),c=parseInt(b[1]),b=k[b[2]],a=u.prototype[b](a,c);return t(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}if("undefined"!==typeof q[a]&&(a=q[a],n=a.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a))){a=
new Date;for(h=0;h<n.length;h++)b=r.exec(n[h]),c=parseInt(b[1]),b=k[b[2]],a=u.prototype[b](a,c);return t(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}n=a&&a.match(this.nonpunctuation)||[];a=new Date;var r={},w="yyyy yy M MM m mm d dd".split(" "),k={yyyy:function(a,b){return a.setUTCFullYear(e?f(b,e):b)},yy:function(a,b){return a.setUTCFullYear(e?f(b,e):b)},m:function(a,b){if(isNaN(a))return a;for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},
d:function(a,b){return a.setUTCDate(b)}},p;k.M=k.MM=k.mm=k.m;k.dd=k.d;a=y();q=b.parts.slice();n.length!==q.length&&(q=d(q).filter(function(a,b){return-1!==d.inArray(b,w)}).toArray());if(n.length===q.length){var x;h=0;for(x=q.length;h<x;h++){p=parseInt(n[h],10);b=q[h];if(isNaN(p))switch(b){case "MM":p=d(m[c].months).filter(l);p=d.inArray(p[0],m[c].months)+1;break;case "M":p=d(m[c].monthsShort).filter(l),p=d.inArray(p[0],m[c].monthsShort)+1}r[b]=p}for(h=0;h<w.length;h++)b=w[h],b in r&&!isNaN(r[b])&&
(c=new Date(a),k[b](c,r[b]),isNaN(c)||(a=c))}return a},formatDate:function(a,b,c){if(!a)return"";"string"===typeof b&&(b=g.parseFormat(b));if(b.toDisplay)return b.toDisplay(a,b,c);c={d:a.getUTCDate(),D:m[c].daysShort[a.getUTCDay()],DD:m[c].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:m[c].monthsShort[a.getUTCMonth()],MM:m[c].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};c.dd=(10>c.d?"0":"")+c.d;c.mm=(10>c.m?"0":"")+c.m;a=[];for(var e=d.extend([],b.separators),
f=0,l=b.parts.length;f<=l;f++)e.length&&a.push(e.shift()),a.push(c[b.parts[f]]);return a.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+
g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+
g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>";d.fn.datepicker.DPGlobal=g;d.fn.datepicker.noConflict=function(){d.fn.datepicker=F;return this};d.fn.datepicker.version="1.6.4";d(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var b=d(this);b.data("datepicker")||(a.preventDefault(),w.call(b,"show"))});d(function(){w.call(d('[data-provide="datepicker-inline"]'))})});
